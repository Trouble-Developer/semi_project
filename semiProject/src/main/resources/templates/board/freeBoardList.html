<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/css/common/common.css" />
    <link rel="stylesheet" href="/css/board/freeBoardList.css" />
  </head>
  <body>
    <div id="header"></div>
    <th:block th:replace="~{common/header}"></th:block>
    <!-- th:replace="common/header" -->
    <div id="container">
      <div id="title">
        <p id="title-text">자유게시판</p>
      </div>
      <div id="write">
        <!-- 로그인한 회원만 가능 
        + js만들어서 null 처리 필요 
        -->
        <button id="write-btn">글작성</button>
      </div>
      <!-- 게시글이 없을 때 -->
      <div id="content">
        <table id="free-board-table">
          <thead id="free-board-head">
            <th>번호</th>
            <th>제목</th>
            <th>닉네임</th>
            <th>작성일</th>
            <th>조회수</th>
            <th>좋아요</th>
          </thead>
          <tbody id="free-board-body">
            <th:block
              th:each="freeBoard : ${freeBoardList}"
              th:object="${freeBoard}"
            >
              <tr>
                <td th:text="*{boardNo}">게시판번호</td>
                <td id="board-title">
                  <a
                    th:unless="${param.key}"
                    th:href="@{/board/{boardCode}/{boardNo} (boardCode = ${boardCode}, boardNo=*{boardNo}, cp=${pagination.currentPage})}"
                    th:text="*{boardTitle}"
                    >게시판 제목</a
                  >
                </td>
                <td th:text="*{memberNickname}">작성자 닉네임</td>
                <td th:text="*{boardWriteDate}">작성일</td>
                <td th:text="*{readCount}">조회수</td>
                <td th:text="*{likeCount}">좋아요수</td>
              </tr>
            </th:block>
          </tbody>
        </table>
      </div>
      <div id="page">
        <ul th:object="${pagination}">
          <li>
            <a href="/board/{boardCode}(boardCode=${boardCode}, cp=1)"
              >&lt;&lt;</a
            >
          </li>
          <li><a href="#">&lt;</a></li>
          <!-- <li id="curr-page">1</li> -->
          <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">
            <li th:if="${i} == *{currentPage}" class="curr-page"></li>
            <li th:unless="${i} == *{currentPage}"></li>
          </th:block>
          <li><a href="#">&gt;</a></li>
          <li><a href="#">&gt;&gt;</a></li>
        </ul>
      </div>
      <div id="search">
        <select name="key" id="search-box">
          <option value="t">제목</option>
          <option value="c">내용</option>
          <option value="tc">제목 + 내용</option>
          <option value="w">작성자</option>
        </select>
        <input
          type="text"
          name="query"
          id="search-input"
          placeholder="검색어를 입력해주세요"
        />
        <button id="search-btn">검색</button>
      </div>
    </div>
    <th:block th:replace="~{common/footer}"></th:block>

    <!-- <script th:inline="javascript">
      const boardCode = /*[[${boardCode}]]*/ "게시판 코드 번호";
    </script> -->
  </body>
</html>
